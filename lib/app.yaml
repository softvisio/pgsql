dependencies:
  - "@softvisio/core"

services:
  default: ~
  standby: ~
  backup: ~

components: ~

config:
  access:
    - { host: local, database: all, user: all, address: ~, auth-method: trust, auth-options: ~ }
    - { host: host, database: replication, user: replication, address: 0.0.0.0/0, auth-method: scram-sha-256, auth-options: ~ }
    - { host: host, database: all, user: all, address: 0.0.0.0/0, auth-method: scram-sha-256, auth-options: ~ }

  settings:
    # shared_preload_libraries: ~ # timescaledb
    # primary_conninfo: host=pgsql port=5432 user=replication password=1
    synchronous_standby_names: FIRST 2 ( standby-1 )
    cluster_name: standby-1 # used as standby instance name for synchronous replication
