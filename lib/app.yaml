dependencies:
  - "@softvisio/core"

cli:
  commands:
    reset-root-password: ~
    run:
      options:
        cluster:
          description: "PostgreSQL cluster name. Example: ,main."
          schema: { type: string }
    postgresql:
      title: PostgreSQL management
      commands:
        upgrade:
          title: Upgrade PostgreSQL cluster
          arguments:
            cluster:
              description: "Cluster to upgrade. Example: 15/main."
              required: true
              schema: { type: string }

services:
  primary:
    components:
      postgresql:
        mode: primary

  standby-sync:
    components:
      postgresql:
        mode: standby-sync

  standby-async:
    components:
      postgresql:
        mode: standby-async

defaultService: primary

components: ~

config: ~
